<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About Us | FEMS Critical System</title>
    <link rel="stylesheet" href="styles.css"> 
    <style>
        /* Gaya khusus untuk halaman ini */
        .about-content {
            padding: 40px;
            max-width: 1200px; /* Lebarkan kontena untuk carta organisasi */
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-top: 20px;
        }
        .about-content h2 {
            color: #6a6a6a;
            margin-top: 30px;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }

        /* ==========================================================
           GAYA CARTA ORGANISASI (Organization Chart)
           Ini adalah gaya yang telah diperbaiki untuk garisan dan susunan.
           ========================================================== */
        
        /* Kontena Induk Carta: Memegang garisan tegak */
        .org-simple-container {
            padding: 20px;
            background-color: #fcfcfc;
            border: 1px solid #eee;
            border-radius: 8px;
            position: relative; 
        }

        /* Garisan Utama di Sebelah Kiri Carta (Induk) */
        .org-simple-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 20px; 
            width: 0;
            height: 100%;
            border-left: 2px solid #ddd;
            z-index: 1; 
        }

        /* Kontena Tahap (Memegang semua kotak dalam satu baris) */
        .level {
            display: flex;
            justify-content: center; 
            align-items: flex-start;
            gap: 20px; 
            margin-bottom: 30px; 
            padding: 10px 0 10px 20px; 
            position: relative;
            z-index: 5;
            border-bottom: none;
        }

        /* Garisan Mendatar (Lurus) */
        .level::before {
            content: '';
            position: absolute;
            top: 20px; 
            left: 0;
            height: 0;
            width: 15px; 
            border-top: 2px solid #ddd;
            z-index: 2;
        }
        
        /* Buang garisan pada Tahap 1 (HOD) */
        .level-1 {
            padding: 10px 0 10px 0; 
            margin-bottom: 10px;
        }
        .level-1::before {
            content: none;
        }

        /* Gaya Kotak Pekerja (Simple Node) */
        .node-simple {
            background-color: #f6f6f685;
            border: 1px solid #000000; 
            border-radius: 5px;
            padding: 10px 15px;
            min-width: 160px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            font-size: 0.9em;
            text-align: center;
            transition: all 0.2s;
            z-index: 10;
        }
        .node-simple:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 10px rgba(0, 0, 0, 0.1);
        }
        .root-node {
            background-color: #f6f6f685; 
            border-color: #ffffff;
        }
        .node-simple .name {
            font-weight: bold;
            color: #333;
            font-size: 1.1em;
        }
        .node-simple .title {
            color: #555;
            font-size: 0.9em;
        }

        /* ==========================================================
           GAYA GAMBAR (FRAME DIBUANG)
           ========================================================== */
        
        .profile-img {
            width: 50%;
            height: 100%;
            object-fit: cover;
            display: block;
            margin: 0 auto 5px auto; /* BARIS INI yang menjadikannya di tengah (auto margin kiri dan kanan) */
        }

        /* ==========================================================
           GAYA UNTUK STRUKTUR CABANG (Flexbox)
           ========================================================== */

        .main-branch {
            display: flex;
            justify-content: space-around; 
            align-items: flex-start;
            gap: 30px; 
            margin: 20px 0;
            padding: 0;
            border-bottom: none !important;
        }

        .sub-branch {
            flex-basis: 48%; 
            display: flex;
            flex-direction: column; /* Susun ke bawah */
            align-items: center;
            border: 1px solid #e0e0e0;
            padding: 15px;
            border-radius: 8px;
            background-color: #f7f7f7;
            min-height: 300px;
        }
        
        /* Sub-Cabang O&M: Susun Region dan Resource side-by-side */
        .level-3-om {
            display: flex;
            justify-content: center;
            gap: 15px;
            width: 100%;
            margin-top: 10px;
            padding: 0;
            border-bottom: none;
        }
        .level-3-om::before { content: none; }

        .role-group {
            display: flex;
            flex-wrap: wrap; 
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
            padding: 10px;
            width: 48%; 
            border-top: 1px dashed #ddd;
        }

        .group-title {
            width: 100%;
            font-weight: bold;
            color: #434343;
            margin-bottom: 10px;
            text-align: center;
            font-size: 0.9em;
        }
        .role-group .node-simple {
            min-width: 120px;
            max-width: 150px;
            padding: 5px 8px;
            font-size: 0.8em;
            border-color: #000000;
        }
        
        /* ==========================================================
           GAYA UNTUK SUSUNAN MENEGAK (Management FEMS)
           ========================================================== */
        .level-2-1-mgmt {
            flex-direction: column; /* Susun menegak */
            align-items: center; 
            gap: 10px; 
            padding: 10px;
            width: 100%;
        }
        .level-2-1-mgmt::before { content: none; }
        .level-2-1-mgmt .node-simple {
            width: 90%; 
            max-width: 300px;
            margin: 0 auto;
        }

        /* ==========================================================
        GAYA SLIDESHOW BARU (3 GAMBAR PER FRAME)
        ========================================================== */
        .slideshow-container {
        max-width: 900px; 
        position: relative;
        margin: auto;
        overflow: hidden; 
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .mySlides {
        display: block; 
        padding: 10px; 
        }

        /* KUMPULAN BARU: Susun 10 gambar dalam satu baris, dan membenarkan anjakan */
        .gallery-slide-group {
            display: flex;
            gap: 10px; 
            /* Gunakan transition untuk kesan gelongsor yang lancar */
            transition: transform 0.4s ease-in-out; 
        }

        /* ITEM BARU: Untuk menguruskan setiap gambar */
        .slide-item {
            /* (900px - 30px gap) / 4 = 217.5px. Kita gunakan calc */
            flex: 0 0 calc((100% - 30px) / 4); /* Tetapkan item untuk ambil 1/4 ruang kontena */
            min-width: 0; 
        }

        .slide-item img {
            width: 100%;
            height: 250px;
            object-fit: fill;
            display: block;
            border-radius: 5px;
        }

        /* Butang Kiri/Kanan */
        .prev, .next {
        cursor: pointer;
        position: absolute;
        top: 50%;
        width: auto;
        padding: 16px;
        margin-top: -22px;
        color: white;
        font-weight: bold;
        font-size: 18px;
        transition: 0.6s ease;
        border-radius: 0 3px 3px 0;
        user-select: none;
        background-color: rgba(0,0,0,0.4);
        }
        .next {
        right: 0;
        border-radius: 3px 0 0 3px;
        }
        .prev:hover, .next:hover {
        background-color: rgba(0,0,0,0.8);
        }
        .fade {
        animation-name: fade;
        animation-duration: 1.5s;
        }
        @keyframes fade {
        from {opacity: .4} 
        to {opacity: 1}
        }

        /* Gaya responsif untuk 3 gambar - menukar kepada 1 gambar per slide pada skrin kecil */
        @media screen and (max-width: 600px) {
            .gallery-slide-group {
                flex-direction: column; 
                gap: 20px;
            }
        }

        /* ==========================================================
        GAYA UNTUK SUSUNAN MEDIA (VIDEO & SLIDESHOW)
        ========================================================== */
        .media-section-flex {
            display: flex;
            gap: 20px;
            align-items: flex-start; /* Jajar ke atas */
            margin-top: 20px;
        }

        .media-item {
            flex: 1; /* Berikan ruang yang sama */
            min-width: 0;
        }

        /* Tetapkan lebar untuk Video dan Slideshow (Contoh: 40% Video, 60% Slideshow) */
        .video-col {
            flex: 0 0 40%; 
            max-width: 40%;
        }

        .slideshow-col {
            flex: 0 0 60%; 
            max-width: 60%;
            padding: 10px 0; /* Tambah padding atas/bawah jika perlu */
        }

        .video-container {
            /* Gaya lama anda untuk video container (jika ada) */
            width: 100%;
            height: auto;
            background-color: #000;
        }
        .video-container video {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 5px;
        }


        /* Media Queries untuk reka bentuk responsif (kekal sama) */
        @media screen and (max-width: 900px) {

            .media-section-flex {
                flex-direction: column;
            }
            .video-col, .slideshow-col {
                flex: 1; /* Ambil semua ruang lebar */
                max-width: 100%;
            }
            .main-branch {
                flex-direction: column;
                gap: 15px;
                align-items: stretch;
            }
            .sub-branch {
                min-height: auto;
                padding: 10px;
                flex-basis: 100%;
                width: 100%;
            }
            .level-3-om {
                flex-direction: column; 
                gap: 15px;
            }
            .role-group {
                width: 100%; 
            }
        }
    </style>
</head>
<body>
    <header class="main-header">
        
        <div class="header-left">
            <img src="medivest.webp" alt="Logo Syarikat" class="header-logo" width="200" height="80">
        </div>
        
        <div class="title-and-menu-wrapper">
            <h1>Facilities Engineering Management Services (FEMS) - About Us</h1>
            
            <div class="title-menu-bar"> 
                <div id="time-widget" class="text-xss font-bold text-center text-gray-700 mt-4 mb-4" style="font-size: 15px !important;">
                    Loading Time...
                </div>
                <button class="about-dropbtn">
                    About Us ▾
                    
                    <div id="aboutDropdown" class="dropdown-content">
                        <a href="about.html?section=chart" class="dropdown-item">Organization Chart</a>
                        <a href="about.html?section=who" class="dropdown-item">Who We Are</a>
                        <a href="about.html?section=vision" class="dropdown-item">Vision & Mission</a>
                        <a href="about.html?section=media" class="dropdown-item">Media & Event</a>
                    </div>
                </button>
            </div>
        </div>
        
        <div class="header-right"> 
            <img src="anything is possible.webp" alt="Slogan Medivest" class="header-logo2" width="200" height="80">
        </div>
        
    </header>

    <main class="container">
        <div class="about-content">
            <a href="index.html" class="back-button">← Kembali ke Laman Utama</a>
            <div id="content-display">
            </div>
        </div>
    </main>

    <script>
        // FUNGSI UNTUK MEMAPARKAN KANDUNGAN ATAU IMEJ
        function displayContent() {
            const urlParams = new URLSearchParams(window.location.search);
            const section = urlParams.get('section');
            const displayDiv = document.getElementById('content-display');

            let htmlContent = '';
            if (section === 'chart') {
                // KOD CARTA ORGANISASI YANG DIKEMAS KINI
                htmlContent = `
                    <h2>Organization Chart: FEMS Headquarters</h2>
                    <div class="org-simple-container">

                        <div class="level level-1">
                            <div class="node-simple root-node">
                                <div class="profile-img-container">
                                    <img src="images/HOD.png" alt="HOD Profile" class="profile-img">
                                </div>
                                <div class="name">Muhammad Hafizi B Zainal Abidin</div>
                                <div class="title">Head Of Deparment FEMS</div>
                            </div>
                        </div>
                        
                        <div class="level level-2 main-branch">
                            
                            <div class="sub-branch operation-maintenance">
                                <div class="level level-2-1-om">
                                    <div class="node-simple">
                                        <div class="profile-img-container">
                                            <img src="images/OM_Manager.png" alt="Operation Manager Profile" class="profile-img">
                                        </div>
                                        <div class="name">VACANT</div>
                                        <div class="title">Operation Manager</div>
                                    </div>
                                </div>

                                <div class="level level-3-om sub-om-roles">
                                    
                                    <div class="role-group region-group">
                                        <div class="group-title">FEMS Region</div>
                                        <div class="node-simple">
                                            <div class="profile-img-container"><img src="images/Region2.png" alt="Region 2" class="profile-img"></div>
                                            <div class="name">Muhammad Hanif B. Atan</div>
                                            <div class="title">Regional Engineer</div>
                                        </div>
                                        <div class="node-simple">
                                            <div class="profile-img-container"><img src="images/Region1.png" alt="Region 1" class="profile-img"></div>
                                            <div class="name">Mohd Hanis Zariman B. Ismail</div>
                                            <div class="title">FR (ROSJ)</div>
                                        </div>
                                        <div class="node-simple">
                                            <div class="profile-img-container"><img src="images/Region3.png" alt="Region 3" class="profile-img"></div>
                                            <div class="name">Shaiful B. Mat Isa</div>
                                            <div class="title">FR (ROMNJ)</div>
                                        </div>
                                        <div class="node-simple">
                                            <div class="profile-img-container"><img src="images/Region4.png" alt="Region 3" class="profile-img"></div>
                                            <div class="name">Ariff Iskandar B. Iskandar</div>
                                            <div class="title">FR (RONS)</div>
                                        </div>
                                    </div>
                                    
                                    <div class="role-group resource-group">
                                        <div class="group-title">Resource Person</div>
                                        <div class="node-simple">
                                            <div class="profile-img-container"><img src="images/Resource1.png" alt="Resource 1" class="profile-img"></div>
                                            <div class="name">Ir. Azari B Bakeri</div>
                                            <div class="title">RP Electrical</div>
                                        </div>
                                        <div class="node-simple">
                                            <div class="profile-img-container"><img src="images/Resource2.png" alt="Resource 2" class="profile-img"></div>
                                            <div class="name">Ameera Ratia</div>
                                            <div class="title">RP Civil & Structural Engineer</div>
                                        </div>
                                        <div class="node-simple">
                                            <div class="profile-img-container"><img src="images/Resource2.png" alt="Resource 2" class="profile-img"></div>
                                            <div class="name">Safri B. Maarop</div>
                                            <div class="title">RP HVAC</div>
                                        </div>
                                        <div class="node-simple">
                                            <div class="profile-img-container"><img src="images/Resource2.png" alt="Resource 2" class="profile-img"></div>
                                            <div class="name">Adnan B. Ishak</div>
                                            <div class="title">RP Mechanical</div>
                                        </div>
                                        <div class="node-simple">
                                            <div class="profile-img-container"><img src="images/Resource2.png" alt="Resource 2" class="profile-img"></div>
                                            <div class="name">Khairul Akram B. Azam Abdullah</div>
                                            <div class="title">RP PCB Specialist</div>
                                        </div>
                                        <div class="node-simple">
                                            <div class="profile-img-container"><img src="images/Resource2.png" alt="Resource 2" class="profile-img"></div>
                                            <div class="name">Tuan Farah Najwa Bt. tuan Mohd Noor</div>
                                            <div class="title">RP Entomologist</div>
                                        </div>
                                        <div class="node-simple">
                                            <div class="profile-img-container"><img src="images/Resource2.png" alt="Resource 2" class="profile-img"></div>
                                            <div class="name">Mazlina Bt. Hussein</div>
                                            <div class="title">Senior Drafter</div>
                                        </div>
                                        <div class="node-simple">
                                            <div class="profile-img-container"><img src="images/Resource2.png" alt="Resource 2" class="profile-img"></div>
                                            <div class="name">Fatin Azwa</div>
                                            <div class="title">Arborist</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="sub-branch management-fems">
                                <div class="level level-2-1-mgmt"> 
                                    <div class="group-title">Management FEMS</div>
                                    <div class="node-simple">
                                        <div class="profile-img-container"><img src="images/Exec1.png" alt="Executive 1" class="profile-img"></div>
                                        <div class="name">Muhammad Aisar B. Yusoff</div>
                                        <div class="title">Senior AME (RONS)</div>
                                    </div>
                                    <div class="node-simple">
                                        <div class="profile-img-container"><img src="images/Exec2.png" alt="Executive 2" class="profile-img"></div>
                                        <div class="name">Khairunisa Bt. Harun</div>
                                        <div class="title">AME (ROMNJ)</div>
                                    </div>
                                    <div class="node-simple">
                                        <div class="profile-img-container"><img src="images/Exec2.png" alt="Executive 2" class="profile-img"></div>
                                        <div class="name">Khairul</div>
                                        <div class="title">AME (ROSJ)</div>
                                    </div>
                                    <div class="node-simple">
                                        <div class="profile-img-container"><img src="images/Exec2.png" alt="Executive 2" class="profile-img"></div>
                                        <div class="name">Khairunisa Bt. Harun</div>
                                        <div class="title">AME (ROMNJ)</div>
                                    </div>
                                    <div class="node-simple">
                                        <div class="profile-img-container"><img src="images/Exec2.png" alt="Executive 2" class="profile-img"></div>
                                        <div class="name">Retzuan Izany B. Othman</div>
                                        <div class="title">Executive</div>
                                    </div>
                                    <div class="node-simple">
                                        <div class="profile-img-container"><img src="images/Exec2.png" alt="Executive 2" class="profile-img"></div>
                                        <div class="name">Abd Halim B. Che Idris</div>
                                        <div class="title">Executive</div>
                                    </div>
                                    <div class="node-simple">
                                        <div class="profile-img-container"><img src="images/Exec2.png" alt="Executive 2" class="profile-img"></div>
                                        <div class="name">Siti Athirah Bt. Abdul Ghani</div>
                                        <div class="title">Executive</div>
                                    </div>
                                    <div class="node-simple">
                                        <div class="profile-img-container"><img src="images/Exec2.png" alt="Executive 2" class="profile-img"></div>
                                        <div class="name">Nor Soleha Bt. Othman</div>
                                        <div class="title">Executive</div>
                                    </div>
                                    <div class="node-simple">
                                        <div class="profile-img-container"><img src="images/Nazree.png" alt="Executive 2" class="profile-img"></div>
                                        <div class="name">Nazree B. Dol Bahar</div>
                                        <div class="title">Pogrammer</div>
                                    </div>
                                    <div class="node-simple">
                                        <div class="profile-img-container"><img src="images/Waliuddin.png" alt="Executive 2" class="profile-img"></div>
                                        <div class="name">Muhammad Waliuddin Faiz B. Mohamad Rozi</div>
                                        <div class="title">Assistant Pogrammer</div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                `;
            } else if (section === 'who') {
                htmlContent = `
                    <h2>Who We Are</h2>
                    <p>Kami adalah Kejuruteraan Pengurusan Fasiliti (FEMS) di Medivest, 
                        didedikasikan untuk memantau dan menyelenggara sistem kritikal hospital...</p>
                `;
            } else if (section === 'vision') {
                pageTitle = 'Visi & Misi';
                htmlContent = `
                    <h3 style="color: #337ab7;">Visi</h3>
                    <p>Merealisasikan persekitaran hospital yang selamat, mampan, dan sentiasa beroperasi melalui inovasi dan kecemerlangan pengurusan sistem kritikal.</p>
                    
                    <h3 style="color: #337ab7; margin-top: 20px;">Misi</h3>
                    <ol>
                        <li>Mengukuhkan pemantauan kritikal melalui penggunaan teknologi pintar dan penyelenggaraan proaktif bagi menjamin persekitaran hospital yang selamat.</li>
                        <li>Membangunkan pasukan yang kompeten dan berdedikasi, serta mengguna pakai amalan terbaik antarabangsa dalam pengurusan aset kritikal hospital.</li>
                    </ol>
                `;

            } else if (section === 'media') {
                pageTitle = 'Galeri Media & Acara FEMS';
                htmlContent = `
                    <p>Saksikan sorotan aktiviti dan acara yang melibatkan pasukan kami.</p>
                    <h3>Sorotan Video Terkini</h3>
                    <div class="video-container">
                        <video controls muted loop>
                            <source src="videos/CAT Muar.mp4" type="video/mp4">
                            Pelayar anda tidak menyokong video ini.
                        </video>
                    </div>
                    
                    <h3 style="margin-top: 30px;">Galeri Gambar</h3>
                    <div class="slideshow-container">

                        <div class="mySlides fade" id="carousel-track">
                            <div class="gallery-slide-group">
                                <div class="slide-item"><img src="images/FEMS HQ.jpg" alt="Img 1"></div>
                                <div class="slide-item"><img src="images/Task Force Muar.jpg" alt="Img 2"></div>
                                <div class="slide-item"><img src="images/Nazree cat.jpg" alt="Img 3"></div>
                                <div class="slide-item"><img src="images/TF Muar 2.jpg" alt="Img 4"></div>
                                <div class="slide-item"><img src="images/TF Muar 3.jpg" alt="Img 5"></div>
                                <div class="slide-item"><img src="images/TF Muar 4.jpg" alt="Img 6"></div>
                                <div class="slide-item"><img src="images/Makan.jpg" alt="Img 7"></div>
                                
                            </div>
                        </div>

                        <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                        <a class="next" onclick="plusSlides(1)">&#10095;</a>
                        
                    </div>
                `;
            } else {
                // Paparan lalai jika tiada pilihan dibuat
                htmlContent = `
                    <h2>Selamat Datang ke Halaman About Us</h2>
                    <p>Sila pilih seksyen dari menu untuk melihat maklumat terperinci.</p>
                `;
            }
            
            displayDiv.innerHTML = htmlContent;
        }

        document.addEventListener('DOMContentLoaded', displayContent);
    </script>
    
    <script>
        // --- FUNGSI WIDGET MASA ---
        function updateTimeWidget() {
            const now = new Date();
            const options = {
                hour: 'numeric',
                minute: '2-digit',
                second: '2-digit',
                hour12: true, 
            };
            const formattedTime = now.toLocaleTimeString('en-US', options);

            const dateOptions = { weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' };
            const formattedDate = now.toLocaleDateString('en-US', dateOptions);

            const timeWidget = document.getElementById('time-widget');
            if (timeWidget) {
                timeWidget.innerHTML = `${formattedDate} | ${formattedTime}`;
            }
        }
        updateTimeWidget();
        setInterval(updateTimeWidget, 1000);
        /* ==========================================================
        FUNGSI SLIDESHOW BARU (Carousel Penuh)
        ========================================================== */
        let slideIndex = 0; // Mulakan dari 0 (tiada anjakan)
        const ITEMS_PER_VIEW = 4;
        const TOTAL_ITEMS = 10;
        // Jumlah pergerakan yang boleh dibuat: 10 - 4 = 6 pergerakan
        const MAX_SLIDE_INDEX = TOTAL_ITEMS - ITEMS_PER_VIEW; 

        function plusSlides(n) {
        slideIndex += n;
        showSlides();
        }

        function showSlides() {
            const track = document.getElementById('carousel-track');
            if (!track) return;

            // =========================================================
            // If statement untuk Gelung Carousel
            // =========================================================
            if (slideIndex > MAX_SLIDE_INDEX) {
                slideIndex = 0; // Kembali ke permulaan (Slide 1)
            }
            if (slideIndex < 0) {
                slideIndex = MAX_SLIDE_INDEX; // Pergi ke penghujung
            }
            // =========================================================
            
            // Kira peratusan anjakan. Setiap pergerakan adalah 1/4 (25%) ruang
            // (100% / 4 item) * slideIndex
            let itemWidthPercent = 100 / ITEMS_PER_VIEW; 
            let translateValue = slideIndex * itemWidthPercent;
            
            // Terapkan anjakan mendatar
            const galleryGroup = track.querySelector('.gallery-slide-group');
            galleryGroup.style.transform = `translateX(-${translateValue}%)`;
        }

        // Pastikan showSlides dipanggil selepas DOMContentLoaded
        document.addEventListener('DOMContentLoaded', () => {
            // ... (fungsi lain seperti displayContent() kekal di sini) ...
            displayContent();
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('section') === 'media') {
                // Paparkan slide pertama (tidak perlu paparkan/sembunyikan, hanya tetapkan transform)
                showSlides();
            }
            // ... (fungsi updateTimeWidget() kekal di sini) ...
        });
    </script>
    
</body>
</html>